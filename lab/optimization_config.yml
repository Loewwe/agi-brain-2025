# Stage 2 Optimization v2.0 config

input:
  strategies_pool_dir: "lab/results"
  strategies_pool_pattern: "new_strategies_pool_*.json"

output:
  best_live_path: "lab/results/best_live_strategies.json"
  trials_log_dir: "lab/results/optimization_trials"

target:
  min_daily_return: 0.025      # 2.5% в день
  preferred_max_daily_return: 0.05   # 5% в день
  max_drawdown: 0.40           # 40% максимальная просадка
  min_pf: 1.3                  # минимальный profit factor
  min_wr: 0.55                 # минимальный win rate
  min_trades: 50               # минимум сделок

optimization:
  trials_per_strategy: 80      # тюнинг-конфигов на стратегию
  random_seed: 42
  max_strategies_live: 5       # максимум в live

score_weights:
  w_daily_return: 100.0
  w_dd_penalty: 80.0
  w_pf: 20.0
  w_wr: 10.0
  w_stability_penalty: 30.0

risk_profile_defaults:
  max_position_pct_of_trading_capital: 0.10   # 10%
  max_daily_loss_pct: 0.06                    # 6%

param_spaces:
  mean_reversion_short_pump:
    tp_pct:
      min: 0.8
      max: 2.5
    pump_threshold:
      min: 3.0
      max: 8.0
    max_hold_minutes:
      min: 1440      # 1 день
      max: 7200      # 5 дней
  momentum_breakout_long:
    tp_pct:
      min: 1.0
      max: 4.0
    breakout_strength:
      min: 1.5
      max: 4.0
    volume_multiplier:
      min: 1.2
      max: 3.0
  trend_follow_long:
    tp_pct:
      min: 1.0
      max: 5.0
    atr_multiplier_sl:
      min: 1.0
      max: 3.0
    ema_fast:
      min: 5
      max: 21
    ema_slow:
      min: 34
      max: 89
